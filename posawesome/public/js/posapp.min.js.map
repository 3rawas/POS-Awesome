{"version":3,"file":"posapp.min.js","sources":["../../../../apps/posawesome/posawesome/public/js/posapp/components/Navbar.vue?rollup-plugin-vue=script.js","../../../../apps/posawesome/posawesome/public/js/posapp/bus.js","../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/ItemsSelector.vue?rollup-plugin-vue=script.js","../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Customer.vue?rollup-plugin-vue=script.js","../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/ItemsCrads.vue?rollup-plugin-vue=script.js","../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Pos.vue?rollup-plugin-vue=script.js","../../../../apps/posawesome/posawesome/public/js/posapp/Home.vue?rollup-plugin-vue=script.js","../../../../apps/posawesome/posawesome/public/js/posapp/posapp.js"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n// import MyPopup from './MyPopup.vue';\n\nexport default {\n    // components: {MyPopup},\n    data(){\n        return {\n            drawer: true,\n            mini: true,\n            item: 0,\n            items: [\n                { text: 'Dashboard', icon: 'mdi-view-dashboard' },\n                { text: 'POS', icon: 'mdi-point-of-sale' },\n                { text: 'Customer', icon: 'mdi-account-box-multiple' },\n                { text: 'Closing', icon: 'mdi-folder-open' },\n            ],\n            page: \"\",\n            fav: true,\n            menu: false,\n            message: false,\n            hints: true,\n        }\n    },\n    methods:{\n            changePage(key){\n                this.$emit('changePage', key);\n            },\n            go_to(){\n                //  window.location = document.location.href.substring(0,document.location.href.length - 6);\n                frappe.set_route('workspace', 'home')\n                location.reload();\n            },\n        },\n}\n","export const evntBus = new Vue();","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { evntBus } from \"../../bus\";\nexport default {\n  data: () => ({\n    items_view: 'card',\n    item_group: 'ALL',\n    favourites_view: false,\n    loading: false,\n    items_group: [\n      'ALL',\n    ],\n    items: [],\n    search: \"\",\n\n  }),\n\n  methods: {\n      get_items() {\n        const vm = this;\n        this.loading = true\n        frappe.call({\n            method: 'posawesome.posawesome.page.posapp.posapp.get_items',\n            args: {\n\n            },\n            callback: function(r) {\n                if (r.message) {\n                    vm.items = r.message;\n                    vm.$nextTick(() => {\n                        vm.loading = false\n                    })\n                }\n            }\n        });\n      },\n      add_item(item){\n        evntBus.$emit('add_item', item);\n      }\n  },\n  computed: {\n    filtred_items() {\n      this.loading = true\n      let filtred_list = []\n      let filtred_group_list = []\n      if (this.item_group != 'ALL') {\n        filtred_group_list = this.items.filter((item)=> item.item_group.toLowerCase().includes(this.item_group.toLowerCase()))\n      }\n      else {\n        filtred_group_list = this.items\n        \n      }\n      if (!this.search || this.search.length < 3) {\n        this.loading = false\n        return filtred_list = filtred_group_list.slice(0,500)\n      }\n      else if (this.search) {\n        filtred_list = filtred_group_list.filter((item)=> item.item_name.toLowerCase().includes(this.search.toLowerCase()))\n        if (filtred_list.length == 0){\n          filtred_list = filtred_group_list.filter((item)=> item.item_code.toLowerCase().includes(this.search.toLowerCase()))\n        }\n      }\n      this.loading = false\n      return filtred_list.slice(0,500)\n    }\n  },\n\n  created: function () {\n      this.$nextTick(function () {\n        this.get_items();\n      });\n      \n  }\n\n}\n\n\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data: () => ({\n    cutomers: [ 'Cash Customer','foo', 'bar', 'fizz', 'buzz'],\n    cutomer: \"Cash Customer\",\n  }),\n}\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { evntBus } from \"../../bus\";\nimport Customer from './Customer.vue'\nexport default {\n    props: [\n            // \"items\"\n    ],\n    data() {\n        return {\n            items_discount: 0,\n            additional_discount: 0,\n            total_tax: 0,\n            total: 0,\n            items: [],\n        }\n        \n    },\n    components: {\n        Customer,\n    },\n    computed: {\n       total_qty() {\n           let qty = 0\n           this.items.forEach(item => {\n               qty += item.qty\n           });\n           return qty\n       }, \n       subtotal() {\n           let sum = 0\n           this.items.forEach(item => {\n               sum += item.qty * item.price\n           });\n           return sum\n       }, \n    },\n    methods: {\n        sortBy(prop) {\n            this.projects.sort((a,b) => a[prop] < b[prop] ? -1 : 1)\n        },\n        remove_item(item) {\n            const index = this.items.findIndex(el => el === item);\n            this.items.splice(index, 1);\n        },\n        add_one(item) {\n            item.qty ++\n            // this.$forceUpdate();\n        },\n        subtract_one(item) {\n            item.qty --\n            if (item.qty <= 0) {\n                this.remove_item(item);\n            }\n            // this.$forceUpdate();\n        },\n    },\n    created() {\n        evntBus.$on('add_item',(item) => {\n            const new_item = {...item}\n            new_item.qty = 1;\n            new_item.vat = 18;\n            new_item.price = 25;\n            new_item.active = false,\n            this.items.unshift(new_item);\n        })\n    },\n    mounted: function () {\n        // this.$nextTick(function () {\n        // const vm = this;\n        //     frappe.call({\n        //         method: 'roxtools.roxtools.doctype.myprojects.myprojects.get_all_projects',\n        //         async: false,\n        //         callback: function(r) {\n        //             if (r.message) {\n        //                 // console.log(r.message);\n        //                 vm.projects = r.message;\n        //             }\n        //         }\n        //     });\n        // })\n        // this.$nextTick(function () {\n        //     const vm = this;\n        //     frappe.realtime.on('rox_add_project', function(data) {\n        //         vm.projects.push(data);\n        //     });\n        // })\n    }\n}\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ItemsSelector from './ItemsSelector.vue'\nimport ItemsCrads from \"./ItemsCrads.vue\";\n\nexport default {\n        data: function () {\n                return {       \n                        \n                }\n        },\n        components: {\n               ItemsSelector,\n               ItemsCrads,\n        },\n       methods:{\n        \n        },\n}\n\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Navbar from './components/Navbar.vue'\nimport POS from './components/pos/Pos.vue'\n\nexport default {\n        data: function () {\n                return {       \n                        page : \"POS\",\n                }\n        },\n        components: {\n               Navbar,\n               POS\n        },\n       methods:{\n                setPage (page) {\n                        this.page = page;\n                },\n        },\n}\n\n","import Home from './Home.vue';\n\nfrappe.provide('frappe.PosApp');\n\n\nfrappe.PosApp.posapp = class {\n        constructor({ parent }) {\n                this.$parent = $(document);\n                this.page = parent.page;\n                this.make_body();\n                \n        }\n        make_body() {\n                this.$customer_table_container = this.$parent.find('#body_div');\n                this.vue = new Vue({\n                        vuetify: new Vuetify(),\n                        el: this.$customer_table_container[0],\n                        data: {\n                        },\n                        render: h => h(Home),\n                });\n                \n        }       \n        setup_header() {\n                \n        }\n};"],"names":["data","drawer","mini","item","items","text","icon","page","fav","menu","message","hints","methods","changePage","key","this","$emit","go_to","frappe","set_route","location","reload","evntBus","Vue","items_view","item_group","favourites_view","loading","items_group","search","get_items","const","vm","call","method","args","callback","r","$nextTick","add_item","computed","filtred_items","let","filtred_list","filtred_group_list","filter","toLowerCase","includes","length","slice","item_name","item_code","created","cutomers","cutomer","props","items_discount","additional_discount","total_tax","total","components","total_qty","qty","forEach","subtotal","sum","price","sortBy","prop","projects","sort","a","b","remove_item","index","findIndex","el","splice","add_one","subtract_one","$on","new_item","Object","vat","active","unshift","mounted","ItemsSelector","Navbar","setPage","provide","PosApp","posapp","[object Object]","ref","$parent","$","document","parent","make_body","$customer_table_container","find","vue","vuetify","Vuetify","render","h","Home"],"mappings":"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"}