!function(){"use strict";var e=new Vue,t={data:function(){return{drawer:!0,mini:!0,item:0,items:[{text:"Dashboard",icon:"mdi-view-dashboard"},{text:"POS",icon:"mdi-point-of-sale"},{text:"Customer",icon:"mdi-account-box-multiple"},{text:"Closing",icon:"mdi-folder-open"}],page:"",fav:!0,menu:!1,message:!1,hints:!0,menu_item:0}},methods:{changePage:function(e){this.$emit("changePage",e)},go_to:function(){frappe.set_route("workspace","home"),location.reload()},close_shift_dialog:function(){e.$emit("open_closing_dialog")}}},n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("v-app-bar",{staticClass:"elevation-2",attrs:{app:"",height:"40"}},[n("v-app-bar-nav-icon",{staticClass:"grey--text",on:{click:function(t){t.stopPropagation(),e.mini=!e.mini}}}),e._v(" "),n("v-toolbar-title",{staticClass:"text-uppercase indigo--text"},[n("span",{staticClass:"font-weight-light"},[e._v("pos")]),e._v(" "),n("span",[e._v("awesome")])]),e._v(" "),n("v-spacer"),e._v(" "),n("div",{staticClass:"text-center"},[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"grey",dark:"",text:""}},"v-btn",i,!1),s),[e._v("Menu")])]}}])},[e._v(" "),n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{attrs:{color:"primary"},model:{value:e.menu_item,callback:function(t){e.menu_item=t},expression:"menu_item"}},[n("v-list-item",{on:{click:e.close_shift_dialog}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-folder-open")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v("Close Shift")])],1)],1)],1)],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"text-center"},[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"grey",dark:"",text:""}},"v-btn",i,!1),s),[e._v("Pages")])]}}])},[e._v(" "),n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{attrs:{color:"primary"},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}},e._l(e.items,function(t,s){return n("v-list-item",{key:t.text,on:{click:function(n){e.changePage(t.text),t=s}}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)],1)}),1)],1)],1)],1)],1),e._v(" "),n("v-btn",{attrs:{text:"",color:"grey"},on:{click:e.go_to}},[n("span",{attrs:{right:""}},[e._v("Erpnext")])])],1),e._v(" "),n("v-navigation-drawer",{staticClass:"indigo margen-top",attrs:{"mini-variant":e.mini,app:""},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dark:""}},[n("v-list-item",{staticClass:"px-2"},[n("v-list-item-avatar",[n("v-img",{attrs:{src:"/assets/erpnext/images/erp-icon.svg"}})],1),e._v(" "),n("v-list-item-title",[e._v("John Leider")]),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.mini=!e.mini}}},[n("v-icon",[e._v("mdi-chevron-left")])],1)],1),e._v(" "),n("v-list-item-group",{attrs:{color:"white"},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}},e._l(e.items,function(t){return n("v-list-item",{key:t.text,on:{click:function(n){return e.changePage(t.text)}}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)],1)}),1)],1)],1)],1)};n._withStripped=!0;var s=function(e,t,n,s,i,o,a,r){var c,l=("function"==typeof n?n.options:n)||{};if(l.__file="/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/components/Navbar.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),l._scopeId=s,t&&(c=function(e){t.call(this,a(e))}),void 0!==c)if(l.functional){var m=l.render;l.render=function(e,t){return c.call(t),m(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return l}({render:n,staticRenderFns:[]},function(e){e&&e("data-v-23678023_0",{source:"\n.margen-top[data-v-23678023] {\n  margin-top: 0px;\n}\n",map:{version:3,sources:["/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/components/Navbar.vue"],names:[],mappings:";AAqIA;EACA,eAAA;AACA",file:"Navbar.vue",sourcesContent:['<template>\n  <nav>\n    <v-app-bar app height="40" class="elevation-2">\n      <v-app-bar-nav-icon @click.stop="mini = !mini" class="grey--text"></v-app-bar-nav-icon>\n      <v-toolbar-title class="text-uppercase indigo--text">\n        <span class="font-weight-light">pos</span>\n        <span>awesome</span>\n      </v-toolbar-title>\n\n      <v-spacer></v-spacer>\n\n       <div class="text-center">\n        <v-menu offset-y>\n          <template v-slot:activator="{ on, attrs }">\n            <v-btn color="grey" dark text v-bind="attrs" v-on="on">Menu</v-btn>\n          </template>\n          <v-card class="mx-auto" max-width="300" tile>\n            <v-list dense>\n              <v-list-item-group v-model="menu_item" color="primary">\n                <v-list-item\n                  @click="close_shift_dialog"\n                >\n                  <v-list-item-icon>\n                    <v-icon>mdi-folder-open</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-content>\n                    <v-list-item-title>Close Shift</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </v-list-item-group>\n            </v-list>\n          </v-card>\n        </v-menu>\n       </div>\n\n      <div class="text-center">\n        <v-menu offset-y>\n          <template v-slot:activator="{ on, attrs }">\n            <v-btn color="grey" dark text v-bind="attrs" v-on="on">Pages</v-btn>\n          </template>\n          <v-card class="mx-auto" max-width="300" tile>\n            <v-list dense>\n              <v-list-item-group v-model="item" color="primary">\n                <v-list-item\n                  v-for="(item, index) in items"\n                  :key="item.text"\n                  @click="[changePage(item.text), item = index]"\n                >\n                  <v-list-item-icon>\n                    <v-icon v-text="item.icon"></v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-content>\n                    <v-list-item-title v-text="item.text"></v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </v-list-item-group>\n            </v-list>\n          </v-card>\n        </v-menu>\n      </div>\n      <v-btn text color="grey" @click="go_to">\n        <span right>Erpnext</span>\n      </v-btn>\n    </v-app-bar>\n    <v-navigation-drawer v-model="drawer" :mini-variant.sync="mini" app class="indigo margen-top">\n      <v-list dark>\n        <v-list-item class="px-2">\n          <v-list-item-avatar>\n            <v-img src="/assets/erpnext/images/erp-icon.svg"></v-img>\n          </v-list-item-avatar>\n\n          <v-list-item-title>John Leider</v-list-item-title>\n\n          <v-btn icon @click.stop="mini = !mini">\n            <v-icon>mdi-chevron-left</v-icon>\n          </v-btn>\n        </v-list-item>\n        \x3c!-- <MyPopup/> --\x3e\n        <v-list-item-group v-model="item" color="white">\n          <v-list-item v-for="item in items" :key="item.text" @click="changePage(item.text)">\n            <v-list-item-icon>\n              <v-icon v-text="item.icon"></v-icon>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title v-text="item.text"></v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list-item-group>\n      </v-list>\n    </v-navigation-drawer>\n  </nav>\n</template>\n\n<script>\nimport { evntBus } from "../bus";\n\nexport default {\n  // components: {MyPopup},\n  data() {\n    return {\n      drawer: true,\n      mini: true,\n      item: 0,\n      items: [\n        { text: "Dashboard", icon: "mdi-view-dashboard" },\n        { text: "POS", icon: "mdi-point-of-sale" },\n        { text: "Customer", icon: "mdi-account-box-multiple" },\n        { text: "Closing", icon: "mdi-folder-open" },\n      ],\n      page: "",\n      fav: true,\n      menu: false,\n      message: false,\n      hints: true,\n      menu_item: 0,\n    };\n  },\n  methods: {\n    changePage(key) {\n      this.$emit("changePage", key);\n    },\n    go_to() {\n      frappe.set_route("workspace", "home");\n      location.reload();\n    },\n    close_shift_dialog(){\n      evntBus.$emit("open_closing_dialog");\n    },\n  },\n};\n<\/script>\n\n<style scoped>\n.margen-top {\n  margin-top: 0px;\n}\n</style>']},media:void 0})},t,"data-v-23678023",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),s="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,i){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=s?i.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var r=i.source,c=a.ids.length;if(a.ids.push(e),s&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var l=a.element=document.createElement("style");l.type="text/css",i.media&&l.setAttribute("media",i.media),s&&(l.setAttribute("data-group",o),l.setAttribute("data-next-index","0")),t.appendChild(l)}if(s&&(c=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",c+1)),a.element.styleSheet)a.parts.push(r),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var m=document.createTextNode(r),d=a.element.childNodes;d[c]&&a.element.removeChild(d[c]),d.length?a.element.insertBefore(m,d[c]):a.element.appendChild(m)}}}}}),i={data:function(){return{pos_profile:"",items_view:"list",item_group:"ALL",favourites_view:!1,loading:!1,items_group:["ALL"],items:[],search:"",itemsPerPage:1e3,items_headers:[{text:"Name",align:"start",sortable:!0,value:"item_name"},{text:"Rate",value:"rate",align:"start"},{text:"Currency",value:"currency",align:"start"},{text:"Available QTY",value:"actual_qty",align:"start"},{text:"UOM",value:"stock_uom",align:"start"}]}},watch:{filtred_items:function(e){this.update_items_details(e)}},methods:{get_items:function(){if(this.pos_profile){var e=this;this.loading=!0,localStorage.items_storage&&(e.items=JSON.parse(localStorage.getItem("items_storage")),e.loading=!1),frappe.call({method:"posawesome.posawesome.api.posapp.get_items",args:{pos_profile:e.pos_profile},callback:function(t){t.message&&(localStorage.setItem("items_storage",""),localStorage.setItem("items_storage",JSON.stringify(t.message)),e.$nextTick(function(){console.log("loadItmes"),e.items=JSON.parse(localStorage.getItem("items_storage")),e.loading=!1}))}})}else console.log("No POS Profile")},get_items_groups:function(){var e=this;if(this.pos_profile)if(this.pos_profile.item_groups.length>0)this.pos_profile.item_groups.forEach(function(t){"All Item Groups"!==t.item_group&&e.items_group.push(t.item_group)});else{var t=this;frappe.call({method:"posawesome.posawesome.api.posapp.get_items_groups",args:{},callback:function(e){e.message&&e.message.forEach(function(e){t.items_group.push(e.name)})}})}else console.log("No POS Profile")},add_item:function(t){e.$emit("add_item",t)},enter_event:function(){this.filtred_items.length&&this.search&&(this.add_item(this.filtred_items[0]),this.search=null)},esc_event:function(){this.search=null},update_items_details:function(e){frappe.call({method:"posawesome.posawesome.api.posapp.get_items_details",args:{pos_profile:this.pos_profile,items_data:e},callback:function(t){t.message&&e.forEach(function(e){var n=t.message.find(function(t){return t.item_code==e.item_code});e.actual_qty=n.actual_qty,e.serial_no_data=n.serial_no_data,e.batch_no_data=n.batch_no_data,e.uoms=n.uoms,e.rate=n.rate,e.currency=n.currency})}})},update_cur_items_details:function(){this.update_items_details(this.filtred_items)}},computed:{filtred_items:function(){var e=this,t=[],n=[];return n="ALL"!=this.item_group?this.items.filter(function(t){return t.item_group.toLowerCase().includes(e.item_group.toLowerCase())}):this.items,!this.search||this.search.length<3?n.slice(0,100):(this.search&&0==(t=n.filter(function(t){for(var n=!1,s=0,i=t.item_barcode;s<i.length;s+=1){if(i[s].barcode==e.search){n=!0;break}}return n})).length&&0==(t=n.filter(function(t){return t.item_name.toLowerCase().includes(e.search.toLowerCase())})).length&&(t=n.filter(function(t){return t.item_code.toLowerCase().includes(e.search.toLowerCase())})),t.slice(0,100))}},created:function(){var t=this;this.$nextTick(function(){}),e.$on("register_pos_profile",function(e){t.pos_profile=e.pos_profile,t.get_items(),t.get_items_groups()}),e.$on("update_cur_items_details",function(){t.update_cur_items_details()})},mounted:function(){}},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",{staticClass:"selection mx-auto grey lighten-5",staticStyle:{"max-height":"80vh",height:"80vh"}},[n("v-progress-linear",{attrs:{active:e.loading,indeterminate:e.loading,absolute:"",top:"",color:"deep-purple accent-4"}}),e._v(" "),n("v-row",{staticClass:"items px-2 py-1"},[n("v-col",{staticClass:"pb-0 mb-2",attrs:{cols:"12"}},[n("v-text-field",{attrs:{dense:"",clearable:"",autofocus:"",outlined:"",color:"indigo",label:"Serch Items",hint:"Search by item code, serial number, batch no or barcode","background-color":"white","hide-details":""},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enter_event(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.esc_event(t)}]},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),n("v-col",{staticClass:"pt-0 mt-0",attrs:{cols:"12"}},["card"==e.items_view?n("div",{staticClass:"items",attrs:{fluid:""}},[n("v-row",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"68vh"},attrs:{dense:""}},e._l(e.filtred_items,function(t,s){return n("v-col",{key:s,attrs:{xl:"2",lg:"3",md:"6",sm:"6",cols:"6","min-height":"50"}},[n("v-card",{attrs:{hover:"hover"},on:{click:function(n){return e.add_item(t)}}},[n("v-img",{staticClass:"white--text align-end",attrs:{src:t.image||"https://lunawood.com/wp-content/uploads/2018/02/placeholder-image.png",gradient:"to bottom, rgba(0,0,0,.2), rgba(0,0,0,.7)",height:"100px"}},[n("v-card-text",{staticClass:"text-subtitle-2 px-1 pb-2",domProps:{textContent:e._s(t.item_name)}})],1),e._v(" "),n("v-card-text",{staticClass:"text--primary pa-1"},[n("div",{staticClass:"text-caption indigo--text accent-3"},[e._v("\n                    "+e._s(t.rate||0)+" "+e._s(t.currency||"")+"\n                  ")])])],1)],1)}),1)],1):e._e(),e._v(" "),"list"==e.items_view?n("div",{staticClass:"items",attrs:{fluid:""}},[n("div",{staticClass:"my-0 py-0 overflow-y-auto",staticStyle:{"max-height":"68vh"}},[[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.items_headers,items:e.filtred_items,"item-key":"item_code","items-per-page":e.itemsPerPage,"hide-default-footer":""},on:{"click:row":e.add_item}})]],2)]):e._e()])],1)],1),e._v(" "),n("v-card",{staticClass:"cards mb-0 mt-3 pa-2 grey lighten-5",staticStyle:{"max-height":"10vh",height:"10vh"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-select",{attrs:{items:e.items_group,label:"Items Group",dense:"",outlined:"","hide-details":""},model:{value:e.item_group,callback:function(t){e.item_group=t},expression:"item_group"}})],1),e._v(" "),n("v-col",{staticClass:"mt-1",attrs:{cols:"8"}},[n("v-btn-toggle",{attrs:{color:"primary accent-3",group:"",dense:"",rounded:""},model:{value:e.items_view,callback:function(t){e.items_view=t},expression:"items_view"}},[n("v-btn",{attrs:{value:"card"}},[e._v("Card View")]),e._v(" "),n("v-btn",{attrs:{value:"list"}},[e._v("List View")])],1)],1),e._v(" "),n("v-col",{staticClass:"mt-1",attrs:{cols:"4"}},[n("v-btn-toggle",{attrs:{color:"success accent-3",group:"",dense:"",rounded:""},model:{value:e.favourites_view,callback:function(t){e.favourites_view=t},expression:"favourites_view"}},[n("v-btn",{attrs:{value:"True"}},[e._v("Favourites")])],1)],1)],1)],1)],1)};o._withStripped=!0;var a=function(e,t,n,s,i,o,a,r){var c,l=("function"==typeof n?n.options:n)||{};if(l.__file="/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/components/pos/ItemsSelector.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),l._scopeId=s,t&&(c=function(e){t.call(this,a(e))}),void 0!==c)if(l.functional){var m=l.render;l.render=function(e,t){return c.call(t),m(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return l}({render:o,staticRenderFns:[]},function(e){e&&e("data-v-23f2e40c_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"ItemsSelector.vue"},media:void 0})},i,"data-v-23f2e40c",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),s="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,i){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=s?i.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var r=i.source,c=a.ids.length;if(a.ids.push(e),s&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var l=a.element=document.createElement("style");l.type="text/css",i.media&&l.setAttribute("media",i.media),s&&(l.setAttribute("data-group",o),l.setAttribute("data-next-index","0")),t.appendChild(l)}if(s&&(c=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",c+1)),a.element.styleSheet)a.parts.push(r),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var m=document.createTextNode(r),d=a.element.childNodes;d[c]&&a.element.removeChild(d[c]),d.length?a.element.insertBefore(m,d[c]):a.element.appendChild(m)}}}}}),r={data:function(){return{pos_profile:"",customers:[],customer:""}},methods:{get_customer_names:function(){var e=this;localStorage.customer_storage&&(e.customers=JSON.parse(localStorage.getItem("customer_storage"))),frappe.call({method:"posawesome.posawesome.api.posapp.get_customer_names",args:{},callback:function(t){t.message&&(localStorage.setItem("customer_storage",""),localStorage.setItem("customer_storage",JSON.stringify(t.message)),e.$nextTick(function(){console.log("loadCustomers"),e.customers=JSON.parse(localStorage.getItem("customer_storage"))}))}})}},computed:{},created:function(){this.$nextTick(function(){var t=this;e.$on("register_pos_profile",function(e){t.pos_profile=e,t.get_customer_names()}),e.$on("set_customer",function(e){t.customer=e})})},watch:{customer:function(){e.$emit("update_customer",this.customer)}}},c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"items px-2 py-1"},[n("v-col",{staticClass:"pb-0 mb-2",attrs:{cols:"12"}},[n("v-autocomplete",{attrs:{dense:"",clearable:"",autofocus:"","auto-select-first":"",outlined:"",color:"indigo",label:"Customer",items:e.customers,"append-outer-icon":"mdi-plus","background-color":"white","no-data-text":"Customer not found","hide-details":""},model:{value:e.customer,callback:function(t){e.customer=t},expression:"customer"}})],1)],1)};c._withStripped=!0;var l={data:function(){return{pos_profile:"",pos_opening_shift:"",invoice_doc:"",customer:"",items_discounts:0,additional_discount:0,total_tax:0,total:0,items:[],itemsPerPage:1e3,expanded:[],singleExpand:!1,items_headers:[{text:"Name",align:"start",sortable:!0,value:"item_name"},{text:"QTY",value:"qty",align:"center"},{text:"UOM",value:"stock_uom",align:"center"},{text:"Rate",value:"rate",align:"center"},{text:"Amount",value:"amount",align:"center"}]}},components:{Customer:function(e,t,n,s,i,o,a,r){var c=("function"==typeof n?n.options:n)||{};return c.__file="/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/components/pos/Customer.vue",c.render||(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),c._scopeId=s,c}({render:c,staticRenderFns:[]},0,r,void 0,!1)},computed:{total_qty:function(){this.close_payments();var e=0;return this.items.forEach(function(t){e+=t.qty}),e},subtotal:function(){this.close_payments();var e=0;return this.items.forEach(function(t){e+=t.qty*t.rate}),e}},methods:{remove_item:function(e){var t=this.items.findIndex(function(t){return t===e});this.items.splice(t,1);var n=this.expanded.findIndex(function(t){return t===e});n>=0&&this.expanded.splice(n,1)},add_one:function(e){e.qty++},subtract_one:function(e){e.qty--,e.qty<=0&&this.remove_item(e)},add_item:function(e){var t=this.items.findIndex(function(t){return t.item_code===e.item_code});if(-1===t){var n=Object.assign({},e);n.qty=1,this.update_items_details([n]),this.items.unshift(n)}else this.update_items_details([this.items[t]]),this.items[t].qty++,this.items[t].actual_qty=e.actual_qty},cancel_invoice:function(){var e=this.get_invoice_doc();e.name&&frappe.call({method:"posawesome.posawesome.api.posapp.delete_invoice",args:{invoice:e.name},async:!0,callback:function(e){e.message&&frappe.show_alert({message:__(""+e.message),indicator:"green"},5)}}),this.items=[],this.customer=this.pos_profile.customer,this.invoice_doc=""},new_invoice:function(e){void 0===e&&(e={});var t=this.get_invoice_doc();t.name?this.update_invoice(t):t.items.length&&this.save_draft_invoice(t),e.name?(this.invoice_doc=e,this.items=e.items,this.customer=e.customer):(this.items=[],this.customer=this.pos_profile.customer,this.invoice_doc="")},save_draft_invoice:function(){var e=this,t=this.get_invoice_doc();return frappe.call({method:"posawesome.posawesome.api.posapp.save_draft_invoice",args:{data:t},async:!1,callback:function(t){t.message&&(e.invoice_doc=t.message)}}),this.invoice_doc},get_invoice_doc:function(){var e={};return this.invoice_doc.name&&(e=Object.assign({},this.invoice_doc)),e.doctype="Sales Invoice",e.is_pos=1,e.company=e.company||this.pos_profile.company,e.pos_profile=e.pos_profile||this.pos_profile.name,e.currency=e.currency||this.pos_profile.currency,e.naming_series=e.naming_series||this.pos_profile.naming_series,e.customer=this.customer,e.items=this.get_invoice_items(),e.total=this.subtotal,e.posa_pos_opening_shift=this.pos_opening_shift.name,e.payments=e.payments=this.get_payments(),e.taxes=[],e},get_invoice_items:function(){var e=[];return this.items.forEach(function(t){e.push({item_code:t.item_code,qty:t.qty,rate:t.rate})}),e},get_payments:function(){var e=this,t=[];return this.pos_profile.payments.forEach(function(n){var s=0;"Cash"===n.mode_of_payment&&(s=e.subtotal),t.push({amount:s,mode_of_payment:n.mode_of_payment,default:n.default,account:""})}),t},update_invoice:function(e){var t=this;return frappe.call({method:"posawesome.posawesome.api.posapp.update_invoice",args:{data:e},async:!1,callback:function(e){e.message&&(t.invoice_doc=e.message)}}),this.invoice_doc},proces_invoice:function(){var e=this.get_invoice_doc();return e.name?this.update_invoice(e):this.save_draft_invoice(e)},show_payment:function(){if(this.customer)if(this.items.length){e.$emit("show_payment","true");var t=this.proces_invoice();e.$emit("send_invoice_doc_payment",t)}else frappe.throw(__("There is no Items!"));else frappe.throw(__("There is no Customer!"))},get_draft_invoices:function(){frappe.call({method:"posawesome.posawesome.api.posapp.get_draft_invoices",args:{pos_opening_shift:this.pos_opening_shift.name},async:!1,callback:function(t){t.message&&e.$emit("open_drafts",t.message)}})},close_payments:function(){e.$emit("show_payment","false")},update_items_details:function(e){frappe.call({method:"posawesome.posawesome.api.posapp.get_items_details",args:{pos_profile:this.pos_profile,items_data:e},callback:function(t){t.message&&e.forEach(function(e){var n=t.message.find(function(t){return t.item_code==e.item_code});e.actual_qty=n.actual_qty,e.serial_no_data=n.serial_no_data,e.batch_no_data=n.batch_no_data,e.uoms=n.uoms,e.rate=n.rate,e.currency=n.currency})}})}},created:function(){var t=this;this.$nextTick(function(){}),e.$on("register_pos_profile",function(e){t.pos_profile=e.pos_profile,t.customer=e.pos_profile.customer,t.pos_opening_shift=e.pos_opening_shift}),e.$on("add_item",function(e){t.add_item(e)}),e.$on("update_customer",function(e){t.customer=e}),e.$on("new_invoice",function(){t.invoice_doc="",t.cancel_invoice()}),e.$on("load_invoice",function(e){t.new_invoice(e)})},mounted:function(){},watch:{customer:function(){this.close_payments(),e.$emit("set_customer",this.customer)},expanded:function(e){this.update_items_details(e)}}},m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",{staticClass:"cards my-0 py-0 grey lighten-5",staticStyle:{"max-height":"70vh",height:"70vh"}},[n("Customer"),e._v(" "),n("div",{staticClass:"my-0 py-0 overflow-y-auto",staticStyle:{"max-height":"59vh"}},[[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.items_headers,items:e.items,"single-expand":e.singleExpand,expanded:e.expanded,"item-key":"item_code","show-expand":"","items-per-page":e.itemsPerPage,"hide-default-footer":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"item.amount",fn:function(t){var n=t.item;return[e._v(e._s(n.qty*n.rate))]}},{key:"expanded-item",fn:function(t){var s=t.headers,i=t.item;return[n("td",{attrs:{colspan:s.length}},[n("v-row",[n("v-col",{attrs:{cols:"1"}},[n("v-btn",{attrs:{icon:"",small:"",color:"red"},on:{click:function(t){return t.stopPropagation(),e.remove_item(i)}}},[n("v-icon",[e._v("mdi-delete")])],1)],1),e._v(" "),n("v-spacer"),e._v(" "),n("v-col",{attrs:{cols:"1"}},[n("v-btn",{attrs:{icon:"",small:"",color:"indigo lighten-1"},on:{click:function(t){return t.stopPropagation(),e.subtract_one(i)}}},[n("v-icon",[e._v("mdi-minus-circle-outline")])],1)],1),e._v(" "),n("v-col",{attrs:{cols:"1"}},[n("v-btn",{attrs:{icon:"",small:"",color:"indigo lighten-1"},on:{click:function(t){return t.stopPropagation(),e.add_one(i)}}},[n("v-icon",[e._v("mdi-plus-circle-outline")])],1)],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("p",[e._v("More info about "+e._s(i.name)+" "+e._s(i))])])],1)],1)]}}])})]],2)],1),e._v(" "),n("v-row",[n("v-col",{staticClass:"pt-0 pr-0",attrs:{cols:"8"}},[n("v-card",{staticClass:"cards mb-0 mt-3 py-0 grey lighten-5",staticStyle:{"max-height":"20vh",height:"20vh"}},[n("v-row",{staticClass:"pa-1 pt-2",staticStyle:{height:"100%"},attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"6","no-gutters":""}},[n("v-row",{staticClass:"ma-1 pa-0",staticStyle:{height:"100%"},attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Total Qty",outlined:"",dense:"",readonly:"","hide-details":""},model:{value:e.total_qty,callback:function(t){e.total_qty=t},expression:"total_qty"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Items Discounts",outlined:"",dense:"",readonly:"","hide-details":""},model:{value:e.items_discounts,callback:function(t){e.items_discounts=t},expression:"items_discounts"}})],1)],1)],1),e._v(" "),n("v-col",{attrs:{"no-gutters":"",cols:"6"}},[n("v-row",{staticClass:"ma-1 pa-0",staticStyle:{height:"100%"},attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"ِAdditional Discount",outlined:"",dense:"","hide-details":""},model:{value:e.additional_discount,callback:function(t){e.additional_discount=t},expression:"additional_discount"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{staticClass:"text--red",attrs:{label:"Total",outlined:"",dense:"",readonly:"","hide-details":""},model:{value:e.subtotal,callback:function(t){e.subtotal=t},expression:"subtotal"}})],1)],1)],1)],1)],1)],1),e._v(" "),n("v-col",{staticClass:"pt-0 pr-3",attrs:{cols:"4"}},[n("v-card",{staticClass:"cards mb-0 mt-3 py-0",staticStyle:{"max-height":"20vh",height:"20vh"},attrs:{flat:""}},[n("v-row",{staticStyle:{height:"53%"},attrs:{align:"start"}},[n("v-col",{attrs:{cols:"12"}},[n("v-btn",{staticClass:"pa-0",attrs:{block:"",large:"",color:"warning",dark:""},on:{click:e.get_draft_invoices}},[e._v("Get Hold Invoice")])],1),e._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-btn",{staticClass:"pa-0",attrs:{block:"",large:"",color:"error",dark:""},on:{click:e.cancel_invoice}},[e._v("Cancel")])],1),e._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-btn",{staticClass:"pa-0",attrs:{block:"",large:"",color:"success",dark:""},on:{click:e.new_invoice}},[e._v("New")])],1)],1),e._v(" "),n("v-row",{staticStyle:{height:"54%"},attrs:{align:"end"}},[n("v-col",{attrs:{cols:"12"}},[n("v-btn",{staticClass:"pa-0",attrs:{block:"",large:"",color:"primary",dark:""},on:{click:e.show_payment}},[e._v("PAY")])],1)],1)],1)],1)],1)],1)};m._withStripped=!0;var d=function(e,t,n,s,i,o,a,r){var c,l=("function"==typeof n?n.options:n)||{};if(l.__file="/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/components/pos/Invoice.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),l._scopeId=s,t&&(c=function(e){t.call(this,a(e))}),void 0!==c)if(l.functional){var m=l.render;l.render=function(e,t){return c.call(t),m(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return l}({render:m,staticRenderFns:[]},function(e){e&&e("data-v-368ce87c_0",{source:"\n.border_line_bottom[data-v-368ce87c] {\n  border-bottom: 1px solid lightgray;\n}\n",map:{version:3,sources:["/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/components/pos/Invoice.vue"],names:[],mappings:";AAwgBA;EACA,kCAAA;AACA",file:"Invoice.vue",sourcesContent:['<template>\n  <div>\n    <v-card\n      style="max-height: 70vh; height: 70vh"\n      class="cards my-0 py-0 grey lighten-5"\n    >\n      <Customer></Customer>\n      <div class="my-0 py-0 overflow-y-auto" style="max-height: 59vh">\n        <template @mouseover="style = \'cursor: pointer\'">\n          <v-data-table\n            :headers="items_headers"\n            :items="items"\n            :single-expand="singleExpand"\n            :expanded.sync="expanded"\n            item-key="item_code"\n            show-expand\n            class="elevation-1"\n            :items-per-page="itemsPerPage"\n            hide-default-footer\n          >\n            <template v-slot:item.amount="{ item }">{{\n              item.qty * item.rate\n            }}</template>\n\n            <template v-slot:expanded-item="{ headers, item }">\n              <td :colspan="headers.length">\n                <v-row>\n                  <v-col cols="1">\n                    <v-btn\n                      icon\n                      small\n                      color="red"\n                      @click.stop="remove_item(item)"\n                    >\n                      <v-icon>mdi-delete</v-icon>\n                    </v-btn>\n                  </v-col>\n                  <v-spacer></v-spacer>\n                  <v-col cols="1">\n                    <v-btn\n                      icon\n                      small\n                      color="indigo lighten-1"\n                      @click.stop="subtract_one(item)"\n                    >\n                      <v-icon>mdi-minus-circle-outline</v-icon>\n                    </v-btn>\n                  </v-col>\n                  <v-col cols="1">\n                    <v-btn\n                      icon\n                      small\n                      color="indigo lighten-1"\n                      @click.stop="add_one(item)"\n                    >\n                      <v-icon>mdi-plus-circle-outline</v-icon>\n                    </v-btn>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col cols="6">\n                    <p>More info about {{ item.name }} {{ item }}</p>\n                  </v-col>\n                </v-row>\n              </td>\n            </template>\n          </v-data-table>\n        </template>\n      </div>\n    </v-card>\n    <v-row>\n      <v-col class="pt-0 pr-0" cols="8">\n        <v-card\n          style="max-height: 20vh; height: 20vh"\n          class="cards mb-0 mt-3 py-0 grey lighten-5"\n        >\n          <v-row no-gutters class="pa-1 pt-2" style="height: 100%">\n            <v-col cols="6" no-gutters>\n              <v-row no-gutters class="ma-1 pa-0" style="height: 100%">\n                <v-col cols="12">\n                  <v-text-field\n                    v-model="total_qty"\n                    label="Total Qty"\n                    outlined\n                    dense\n                    readonly\n                    hide-details\n                  ></v-text-field>\n                </v-col>\n                \x3c!-- <v-col cols="12">\n                  <v-text-field\n                    v-model="subtotal"\n                    label="Subtotal"\n                    outlined\n                    dense\n                    readonly\n                    hide-details\n                  ></v-text-field>\n                </v-col> --\x3e\n                <v-col cols="12">\n                  <v-text-field\n                    v-model="items_discounts"\n                    label="Items Discounts"\n                    outlined\n                    dense\n                    readonly\n                    hide-details\n                  ></v-text-field>\n                </v-col>\n              </v-row>\n            </v-col>\n            <v-col no-gutters cols="6">\n              <v-row no-gutters class="ma-1 pa-0" style="height: 100%">\n                <v-col cols="12">\n                  <v-text-field\n                    v-model="additional_discount"\n                    label="ِAdditional Discount"\n                    outlined\n                    dense\n                    hide-details\n                  ></v-text-field>\n                </v-col>\n                \x3c!-- <v-col cols="12">\n                  <v-text-field\n                    v-model="total_tax"\n                    label="TAX"\n                    outlined\n                    dense\n                    readonly\n                    hide-details\n                  ></v-text-field>\n                </v-col> --\x3e\n                <v-col cols="12">\n                  <v-text-field\n                    v-model="subtotal"\n                    label="Total"\n                    outlined\n                    dense\n                    readonly\n                    hide-details\n                    class="text--red"\n                  ></v-text-field>\n                </v-col>\n              </v-row>\n            </v-col>\n          </v-row>\n        </v-card>\n      </v-col>\n      <v-col class="pt-0 pr-3" cols="4">\n        <v-card\n          flat\n          style="max-height: 20vh; height: 20vh"\n          class="cards mb-0 mt-3 py-0"\n        >\n          <v-row align="start" style="height: 53%">\n            <v-col cols="12">\n              <v-btn\n                block\n                class="pa-0"\n                large\n                color="warning"\n                dark\n                @click="get_draft_invoices"\n                >Get Hold Invoice</v-btn\n              >\n            </v-col>\n            <v-col cols="6">\n              <v-btn\n                block\n                class="pa-0"\n                large\n                color="error"\n                dark\n                @click="cancel_invoice"\n                >Cancel</v-btn\n              >\n            </v-col>\n            <v-col cols="6">\n              <v-btn\n                block\n                class="pa-0"\n                large\n                color="success"\n                dark\n                @click="new_invoice"\n                >New</v-btn\n              >\n            </v-col>\n          </v-row>\n          <v-row align="end" style="height: 54%">\n            <v-col cols="12">\n              <v-btn\n                block\n                class="pa-0"\n                large\n                color="primary"\n                @click="show_payment"\n                dark\n                >PAY</v-btn\n              >\n            </v-col>\n          </v-row>\n        </v-card>\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport { evntBus } from "../../bus";\nimport Customer from "./Customer.vue";\nexport default {\n  // props: ["pos_profile"],\n  data() {\n    return {\n      pos_profile: "",\n      pos_opening_shift: "",\n      invoice_doc: "",\n      customer: "",\n      items_discounts: 0,\n      additional_discount: 0,\n      total_tax: 0,\n      total: 0,\n      items: [],\n      itemsPerPage: 1000,\n      expanded: [],\n      singleExpand: false,\n      items_headers: [\n        {\n          text: "Name",\n          align: "start",\n          sortable: true,\n          value: "item_name",\n        },\n        { text: "QTY", value: "qty", align: "center" },\n        { text: "UOM", value: "stock_uom", align: "center" },\n        { text: "Rate", value: "rate", align: "center" },\n        // { text: "VAT", value: "vat", align: "center" },\n        { text: "Amount", value: "amount", align: "center" },\n      ],\n    };\n  },\n  components: {\n    Customer,\n  },\n  computed: {\n    total_qty() {\n      this.close_payments();\n      let qty = 0;\n      this.items.forEach((item) => {\n        qty += item.qty;\n      });\n      return qty;\n    },\n    subtotal() {\n      this.close_payments();\n      let sum = 0;\n      this.items.forEach((item) => {\n        sum += item.qty * item.rate;\n      });\n      return sum;\n    },\n  },\n  methods: {\n    remove_item(item) {\n      const index = this.items.findIndex((el) => el === item);\n      this.items.splice(index, 1);\n      const idx = this.expanded.findIndex((el) => el === item);\n      if (idx >= 0) {\n        this.expanded.splice(idx, 1);\n      }\n    },\n    add_one(item) {\n      item.qty++;\n      // this.$forceUpdate();\n    },\n    subtract_one(item) {\n      item.qty--;\n      if (item.qty <= 0) {\n        this.remove_item(item);\n      }\n      // this.$forceUpdate();\n    },\n    add_item(item) {\n      const index = this.items.findIndex(\n        (el) => el.item_code === item.item_code\n      );\n      if (index === -1) {\n        const new_item = { ...item };\n        new_item.qty = 1;\n        this.update_items_details([new_item])\n        this.items.unshift(new_item);\n      } else {\n        this.update_items_details([this.items[index]])\n        this.items[index].qty++;\n        this.items[index].actual_qty = item.actual_qty;\n      }\n    },\n    cancel_invoice() {\n      const doc = this.get_invoice_doc();\n      if (doc.name) {\n        frappe.call({\n          method: "posawesome.posawesome.api.posapp.delete_invoice",\n          args: { invoice: doc.name },\n          async: true,\n          callback: function (r) {\n            if (r.message) {\n              frappe.show_alert(\n                // TODO : replace whith proper alert\n                {\n                  message: __(`${r.message}`),\n                  indicator: "green",\n                },\n                5\n              );\n            }\n          },\n        });\n      }\n      this.items = [];\n      this.customer = this.pos_profile.customer;\n      this.invoice_doc = "";\n    },\n    new_invoice(data = {}) {\n      const doc = this.get_invoice_doc();\n      if (doc.name) {\n        this.update_invoice(doc);\n      } else {\n        if (doc.items.length) {\n          this.save_draft_invoice(doc);\n        }\n      }\n      if (!data.name) {\n        this.items = [];\n        this.customer = this.pos_profile.customer;\n        this.invoice_doc = "";\n      } else {\n        this.invoice_doc = data;\n        this.items = data.items;\n        this.customer = data.customer;\n      }\n    },\n    save_draft_invoice() {\n      const vm = this;\n      const doc = this.get_invoice_doc();\n      frappe.call({\n        method: "posawesome.posawesome.api.posapp.save_draft_invoice",\n        args: { data: doc },\n        async: false,\n        callback: function (r) {\n          if (r.message) {\n            vm.invoice_doc = r.message;\n          }\n        },\n      });\n      return this.invoice_doc;\n    },\n    get_invoice_doc() {\n      let doc = {};\n      if (this.invoice_doc.name) {\n        doc = { ...this.invoice_doc };\n      }\n      doc.doctype = "Sales Invoice";\n      doc.is_pos = 1;\n      doc.company = doc.company || this.pos_profile.company;\n      doc.pos_profile = doc.pos_profile || this.pos_profile.name;\n      doc.currency = doc.currency || this.pos_profile.currency;\n      doc.naming_series = doc.naming_series || this.pos_profile.naming_series;\n      doc.customer = this.customer;\n      doc.items = this.get_invoice_items();\n      doc.total = this.subtotal;\n      (doc.posa_pos_opening_shift = this.pos_opening_shift.name),\n        (doc.payments = doc.payments = this.get_payments()),\n        (doc.taxes = []);\n      return doc;\n    },\n    get_invoice_items() {\n      const items_list = [];\n      this.items.forEach((item) => {\n        items_list.push({\n          item_code: item.item_code,\n          qty: item.qty,\n          rate: item.rate,\n        });\n      });\n      return items_list;\n    },\n    get_payments() {\n      const payments = [];\n      this.pos_profile.payments.forEach((payment) => {\n        let amount = 0;\n        if (payment.mode_of_payment === "Cash") {\n          amount = this.subtotal; // NOTE : this shoulde updated from user\n        }\n        payments.push({\n          amount: amount,\n          mode_of_payment: payment.mode_of_payment,\n          default: payment.default,\n          account: "",\n        });\n      });\n      return payments;\n    },\n    update_invoice(doc) {\n      const vm = this;\n      frappe.call({\n        method: "posawesome.posawesome.api.posapp.update_invoice",\n        args: {\n          data: doc,\n        },\n        async: false,\n        callback: function (r) {\n          if (r.message) {\n            vm.invoice_doc = r.message;\n          }\n        },\n      });\n      return this.invoice_doc;\n    },\n    proces_invoice() {\n      const doc = this.get_invoice_doc();\n      if (doc.name) {\n        return this.update_invoice(doc);\n      } else {\n        return this.save_draft_invoice(doc);\n      }\n    },\n    show_payment() {\n      if (!this.customer) {\n        frappe.throw(__("There is no Customer!")); // TODO : replace whith proper alert\n        return;\n      }\n      if (!this.items.length) {\n        frappe.throw(__("There is no Items!")); // TODO : replace whith proper alert\n        return;\n      }\n      evntBus.$emit("show_payment", "true");\n      const invoice_doc = this.proces_invoice();\n      evntBus.$emit("send_invoice_doc_payment", invoice_doc);\n    },\n    get_draft_invoices() {\n      const vm = this;\n      frappe.call({\n        method: "posawesome.posawesome.api.posapp.get_draft_invoices",\n        args: {\n          pos_opening_shift: this.pos_opening_shift.name,\n        },\n        async: false,\n        callback: function (r) {\n          if (r.message) {\n            evntBus.$emit("open_drafts", r.message);\n          }\n        },\n      });\n    },\n    close_payments() {\n      evntBus.$emit("show_payment", "false");\n    },\n    update_items_details(items) {\n      const vm = this;\n      frappe.call({\n        method: "posawesome.posawesome.api.posapp.get_items_details",\n        args: {\n          pos_profile: vm.pos_profile,\n          items_data: items,\n        },\n        callback: function (r) {\n          if (r.message) {\n            items.forEach((item) => {\n              const updated_item = r.message.find(\n                (element) => element.item_code == item.item_code\n              );\n              item.actual_qty = updated_item.actual_qty;\n              item.serial_no_data = updated_item.serial_no_data;\n              item.batch_no_data = updated_item.batch_no_data;\n              item.uoms = updated_item.uoms;\n              item.rate = updated_item.rate;\n              item.currency = updated_item.currency;\n            });\n          }\n        },\n      });\n    },\n  },\n  created() {\n    this.$nextTick(function () {});\n    evntBus.$on("register_pos_profile", (data) => {\n      this.pos_profile = data.pos_profile;\n      this.customer = data.pos_profile.customer;\n      this.pos_opening_shift = data.pos_opening_shift;\n    });\n    evntBus.$on("add_item", (item) => {\n      // this.expanded = []\n      this.add_item(item);\n    });\n    evntBus.$on("update_customer", (customer) => {\n      this.customer = customer;\n    });\n    evntBus.$on("new_invoice", () => {\n      this.invoice_doc = "";\n      this.cancel_invoice();\n    });\n    evntBus.$on("load_invoice", (data) => {\n      this.new_invoice(data);\n    });\n  },\n  mounted: function () {},\n  watch: {\n    customer() {\n      this.close_payments();\n      evntBus.$emit("set_customer", this.customer);\n    },\n    expanded(data_value) {\n      this.update_items_details(data_value);\n    },\n  },\n};\n<\/script>\n\n<style scoped>\n.border_line_bottom {\n  border-bottom: 1px solid lightgray;\n}\n</style>']},media:void 0})},l,"data-v-368ce87c",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),s="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,i){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=s?i.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var r=i.source,c=a.ids.length;if(a.ids.push(e),s&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var l=a.element=document.createElement("style");l.type="text/css",i.media&&l.setAttribute("media",i.media),s&&(l.setAttribute("data-group",o),l.setAttribute("data-next-index","0")),t.appendChild(l)}if(s&&(c=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",c+1)),a.element.styleSheet)a.parts.push(r),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var m=document.createTextNode(r),d=a.element.childNodes;d[c]&&a.element.removeChild(d[c]),d.length?a.element.insertBefore(m,d[c]):a.element.appendChild(m)}}}}}),p={props:["dialog"],data:function(){return{dialog_data:{},companys:[],company:"",pos_profiles_data:[],pos_profiles:[],pos_profile:"",payments_method_data:[],payments_methods:[],payments_methods_headers:[{text:"Mode of Payment",align:"start",sortable:!1,value:"mode_of_payment"},{text:"Opening Amount",value:"amount",align:"center",sortable:!1}],itemsPerPage:100,max25chars:function(e){return e.length<=12||"Input too long!"},pagination:{},snack:!1,snackColor:"",snackText:""}},watch:{company:function(e){var t=this;this.pos_profiles=[],this.pos_profiles_data.forEach(function(n){n.company===e&&t.pos_profiles.push(n.name),t.pos_profiles.length?t.pos_profile=t.pos_profiles[0]:t.pos_profile=""})},pos_profile:function(e){var t=this;this.payments_methods=[],this.payments_method_data.forEach(function(n){n.parent===e&&t.payments_methods.push({mode_of_payment:n.mode_of_payment,amount:0})})}},methods:{close_opening_dialog:function(){e.$emit("close_opening_dialog")},get_opening_dialog_data:function(){var e=this;frappe.call({method:"posawesome.posawesome.api.posapp.get_opening_dialog_data",args:{},callback:function(t){t.message&&(t.message.companys.forEach(function(t){e.companys.push(t.name)}),e.company=e.companys[0],e.pos_profiles_data=t.message.pos_profiles_data,e.payments_method_data=t.message.payments_method)}})},submit_dialog:function(){if(this.payments_methods.length&&this.company&&this.pos_profile){var t=this;return frappe.call("posawesome.posawesome.api.posapp.create_opening_voucher",{pos_profile:this.pos_profile,company:this.company,balance_details:this.payments_methods}).then(function(n){n.message&&(e.$emit("register_pos_data",n.message),t.close_opening_dialog())})}},save:function(){this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){}},created:function(){this.$nextTick(function(){this.get_opening_dialog_data()})}},u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Create POS Opening Shift")])]),e._v(" "),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-autocomplete",{attrs:{items:e.companys,label:"Company",required:""},model:{value:e.company,callback:function(t){e.company=t},expression:"company"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-autocomplete",{attrs:{items:e.pos_profiles,label:"POS Profile",required:""},model:{value:e.pos_profile,callback:function(t){e.pos_profile=t},expression:"pos_profile"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12"}},[[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.payments_methods_headers,items:e.payments_methods,"item-key":"mode_of_payment","items-per-page":e.itemsPerPage,"hide-default-footer":""},scopedSlots:e._u([{key:"item.amount",fn:function(t){return[n("v-edit-dialog",{attrs:{"return-value":t.item.amount},on:{"update:returnValue":function(n){return e.$set(t.item,"amount",n)},"update:return-value":function(n){return e.$set(t.item,"amount",n)},save:e.save,cancel:e.cancel,open:e.open,close:e.close},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{rules:[e.max25chars],label:"Edit","single-line":"",counter:"",type:"number"},model:{value:t.item.amount,callback:function(n){e.$set(t.item,"amount",n)},expression:"props.item.amount"}})]},proxy:!0}],null,!0)},[e._v("\n                      "+e._s(t.item.amount)+"\n                      ")])]}}])})]],2)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue",dark:""},on:{click:e.submit_dialog}},[e._v("Submit")])],1),e._v(" "),n("v-snackbar",{attrs:{timeout:3e3,color:e.snackColor},scopedSlots:e._u([{key:"action",fn:function(t){var s=t.attrs;return[n("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snack=!1}}},"v-btn",s,!1),[e._v("Close")])]}}]),model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v("\n        // TODO : need to remove\n        "+e._s(e.snackText)+"\n        ")])],1)],1)],1)};u._withStripped=!0;var v=function(e,t,n,s,i,o,a,r){var c=("function"==typeof n?n.options:n)||{};return c.__file="/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/components/pos/OpeningDialog.vue",c.render||(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),c._scopeId=s,c}({render:u,staticRenderFns:[]},0,p,void 0,!1),_={data:function(){return{loading:!1,pos_profile:"",invoice_doc:""}},methods:{back_to_invoice:function(){e.$emit("show_payment","false")},submit:function(){this.submit_invoice(),e.$emit("new_invoice","false"),this.back_to_invoice()},submit_invoice:function(){var e=this;frappe.call({method:"posawesome.posawesome.api.posapp.submit_invoice",args:{data:this.invoice_doc,to_submit:"True"},async:!0,callback:function(t){t.message&&(e.load_print_page(),frappe.show_alert({message:__("Invoice "+t.message.name+" Submited"),indicator:"green"},5))}})},load_print_page:function(){var e=this.pos_profile.letter_head||0,t=frappe.urllib.get_base_url()+"/printview?doctype=Sales%20Invoice&name="+this.invoice_doc.name+"&format="+this.pos_profile.print_format+"&no_letterhead="+e,n=window.open(t,"Print");n.addEventListener("load",function(){n.print()},!0)}},computed:{},created:function(){this.$nextTick(function(){var t=this;e.$on("send_invoice_doc_payment",function(e){t.invoice_doc=e,t.invoice_doc.payments[0].amount=e.total}),e.$on("register_pos_profile",function(e){t.pos_profile=e.pos_profile})})},watch:{}},f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",{staticClass:"selection mx-auto grey lighten-5",staticStyle:{"max-height":"80vh",height:"80vh"}},[n("v-progress-linear",{attrs:{active:e.loading,indeterminate:e.loading,absolute:"",top:"",color:"deep-purple accent-4"}}),e._v(" "),e._l(e.invoice_doc.payments,function(t){return n("v-row",{key:t.name,staticClass:"pyments px-1 py-0"},[n("v-col",{attrs:{cols:"7"}},[n("v-text-field",{attrs:{dense:"",outlined:"",color:"indigo",label:t.mode_of_payment,"background-color":"white","hide-details":""},model:{value:t.amount,callback:function(n){e.$set(t,"amount",n)},expression:"payment.amount"}})],1),e._v(" "),n("v-col",{attrs:{cols:"5"}},[n("v-btn",{attrs:{block:"",color:"primary",dark:""}},[e._v("Pay Full "+e._s(t.mode_of_payment))])],1)],1)})],2),e._v(" "),n("v-card",{staticClass:"cards mb-0 mt-3 py-0",staticStyle:{"max-height":"10vh",height:"10vh"},attrs:{flat:""}},[n("v-row",{staticStyle:{height:"53%"},attrs:{align:"start"}},[n("v-col",{attrs:{cols:"12"}},[n("v-btn",{staticClass:"pa-0",attrs:{block:"",large:"",color:"warning",dark:""},on:{click:e.back_to_invoice}},[e._v("Back")])],1)],1),e._v(" "),n("v-row",{staticStyle:{height:"54%"},attrs:{align:"end"}},[n("v-col",{attrs:{cols:"12"}},[n("v-btn",{staticClass:"pa-0",attrs:{block:"",large:"",color:"primary",dark:""},on:{click:e.submit}},[e._v("Submit Payments")])],1)],1)],1)],1)};f._withStripped=!0;var h=function(e,t,n,s,i,o,a,r){var c=("function"==typeof n?n.options:n)||{};return c.__file="/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/components/pos/Payments.vue",c.render||(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),c._scopeId=s,c}({render:f,staticRenderFns:[]},0,_,void 0,!1),g={data:function(){return{draftsDialog:!1,singleSelect:!0,selected:[],dialog_data:{},headers:[{text:"Customer",value:"customer",align:"start",sortable:!0},{text:"Date",align:"start",sortable:!0,value:"posting_date"},{text:"Invoice",value:"name",align:"start",sortable:!0},{text:"Amount",value:"total",align:"start",sortable:!1}]}},watch:{},methods:{close_dialog:function(){this.draftsDialog=!1},submit_dialog:function(){this.selected.length>0&&(e.$emit("load_invoice",this.selected[0]),this.draftsDialog=!1)}},created:function(){var t=this;e.$on("open_drafts",function(e){t.draftsDialog=!0,t.dialog_data=e})}},y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.draftsDialog,callback:function(t){e.draftsDialog=t},expression:"draftsDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Select Hold invoice")])]),e._v(" "),n("v-card-text",{staticClass:"pa-0"},[n("v-container",[n("v-row",[n("v-col",{staticClass:"pa-1",attrs:{cols:"12"}},[[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.dialog_data,"item-key":"name","single-select":e.singleSelect,"show-select":""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})]],2)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"red",dark:""},on:{click:e.close_dialog}},[e._v("Close")]),e._v(" "),n("v-btn",{attrs:{color:"blue",dark:""},on:{click:e.submit_dialog}},[e._v("Select")])],1)],1)],1)],1)};y._withStripped=!0;var b=function(e,t,n,s,i,o,a,r){var c=("function"==typeof n?n.options:n)||{};return c.__file="/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/components/pos/Drafts.vue",c.render||(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),c._scopeId=s,c}({render:y,staticRenderFns:[]},0,g,void 0,!1),x={data:function(){return{closingDialog:!1,itemsPerPage:20,dialog_data:{},headers:[{text:"Mode of Payment",value:"mode_of_payment",align:"start",sortable:!0},{text:"Opening Amount",align:"end",sortable:!0,value:"opening_amount"},{text:"Closing Amount",value:"closing_amount",align:"end",sortable:!0},{text:"Expected Amount",value:"expected_amount",align:"end",sortable:!1},{text:"Difference",value:"difference",align:"end",sortable:!1}],max25chars:function(e){return e.length<=20||"Input too long!"},pagination:{}}},watch:{},methods:{close_dialog:function(){this.closingDialog=!1},submit_dialog:function(){e.$emit("submit_closing_pos",this.dialog_data),this.closingDialog=!1}},created:function(){var t=this;e.$on("open_ClosingDialog",function(e){t.closingDialog=!0,t.dialog_data=e})}},w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{"max-width":"900px"},model:{value:e.closingDialog,callback:function(t){e.closingDialog=t},expression:"closingDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Closing POS Shift")])]),e._v(" "),n("v-card-text",{staticClass:"pa-0"},[n("v-container",[n("v-row",[n("v-col",{staticClass:"pa-1",attrs:{cols:"12"}},[[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.dialog_data.payment_reconciliation,"item-key":"mode_of_payment","items-per-page":e.itemsPerPage,"hide-default-footer":""},scopedSlots:e._u([{key:"item.closing_amount",fn:function(t){return[n("v-edit-dialog",{attrs:{"return-value":t.item.closing_amount},on:{"update:returnValue":function(n){return e.$set(t.item,"closing_amount",n)},"update:return-value":function(n){return e.$set(t.item,"closing_amount",n)}},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{rules:[e.max25chars],label:"Edit","single-line":"",counter:"",type:"number"},model:{value:t.item.closing_amount,callback:function(n){e.$set(t.item,"closing_amount",n)},expression:"props.item.closing_amount"}})]},proxy:!0}],null,!0)},[e._v("\n                      "+e._s(t.item.closing_amount)+"\n                      ")])]}},{key:"item.difference",fn:function(t){var n=t.item;return[e._v(e._s(n.difference=n.expected_amount-n.closing_amount))]}}])})]],2)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"red",dark:""},on:{click:e.close_dialog}},[e._v("Close")]),e._v(" "),n("v-btn",{attrs:{color:"blue",dark:""},on:{click:e.submit_dialog}},[e._v("Submit")])],1)],1)],1)],1)};w._withStripped=!0;var k={data:function(){return{dialog:!1,pos_profile:"",pos_opening_shift:"",payment:!1}},components:{ItemsSelector:a,Invoice:d,OpeningDialog:v,Payments:h,Drafts:b,ClosingDialog:function(e,t,n,s,i,o,a,r){var c=("function"==typeof n?n.options:n)||{};return c.__file="/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/components/pos/ClosingDialog.vue",c.render||(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),c._scopeId=s,c}({render:w,staticRenderFns:[]},0,x,void 0,!1)},methods:{check_opening_entry:function(){var t=this;return frappe.call("posawesome.posawesome.api.posapp.check_opening_shift",{user:frappe.session.user}).then(function(n){n.message?(t.pos_profile=n.message.pos_profile,t.pos_opening_shift=n.message.pos_opening_shift,e.$emit("register_pos_profile",n.message),console.log("LoadPosProfile")):t.create_opening_voucher()})},create_opening_voucher:function(){console.log("Opening Shift Created"),this.dialog=!0},get_closing_data:function(){return frappe.call("posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.make_closing_shift_from_opening",{opening_shift:this.pos_opening_shift}).then(function(t){t.message?e.$emit("open_ClosingDialog",t.message):console.log(t)})},submit_closing_pos:function(e){var t=this;frappe.call("posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.submit_closing_shift",{closing_shift:e}).then(function(e){e.message?t.check_opening_entry():console.log(e)})}},created:function(){this.$nextTick(function(){var t=this;this.check_opening_entry(),e.$on("close_opening_dialog",function(){t.dialog=!1}),e.$on("register_pos_data",function(n){t.pos_profile=n.pos_profile,t.pos_opening_shift=n.pos_opening_shift,e.$emit("register_pos_profile",n),console.log("LoadPosProfile")}),e.$on("show_payment",function(n){t.payment="true"===n,e.$emit("update_cur_items_details")}),e.$on("open_closing_dialog",function(){t.get_closing_data()}),e.$on("submit_closing_pos",function(e){t.submit_closing_pos(e)})})}},C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{fluid:""}},[n("ClosingDialog"),e._v(" "),n("Drafts"),e._v(" "),e.dialog?n("OpeningDialog",{attrs:{dialog:e.dialog}}):e._e(),e._v(" "),n("v-row",{directives:[{name:"show",rawName:"v-show",value:!e.dialog,expression:"!dialog"}]},[n("v-col",{directives:[{name:"show",rawName:"v-show",value:!e.payment,expression:"!payment"}],staticClass:"pos pr-0",attrs:{xl:"5",lg:"6",md:"6",sm:"6",cols:"12"}},[n("ItemsSelector")],1),e._v(" "),n("v-col",{directives:[{name:"show",rawName:"v-show",value:e.payment,expression:"payment"}],staticClass:"pos pr-0",attrs:{xl:"5",lg:"6",md:"6",sm:"6",cols:"12"}},[n("Payments")],1),e._v(" "),n("v-col",{staticClass:"pos",attrs:{xl:"7",lg:"6",md:"6",sm:"6",cols:"12"}},[n("Invoice")],1)],1)],1)};C._withStripped=!0;var S={data:function(){return{page:"POS"}},components:{Navbar:s,POS:function(e,t,n,s,i,o,a,r){var c,l=("function"==typeof n?n.options:n)||{};if(l.__file="/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/components/pos/Pos.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),l._scopeId=s,t&&(c=function(e){t.call(this,a(e))}),void 0!==c)if(l.functional){var m=l.render;l.render=function(e,t){return c.call(t),m(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return l}({render:C,staticRenderFns:[]},function(e){e&&e("data-v-203668b8_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"Pos.vue"},media:void 0})},k,"data-v-203668b8",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),s="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,i){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=s?i.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var r=i.source,c=a.ids.length;if(a.ids.push(e),s&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var l=a.element=document.createElement("style");l.type="text/css",i.media&&l.setAttribute("media",i.media),s&&(l.setAttribute("data-group",o),l.setAttribute("data-next-index","0")),t.appendChild(l)}if(s&&(c=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",c+1)),a.element.styleSheet)a.parts.push(r),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var m=document.createTextNode(r),d=a.element.childNodes;d[c]&&a.element.removeChild(d[c]),d.length?a.element.insertBefore(m,d[c]):a.element.appendChild(m)}}}}})},methods:{setPage:function(e){this.page=e}}},A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"container1"},[n("v-main",[n("Navbar",{on:{changePage:function(t){return e.setPage(t)}}}),e._v(" "),n("keep-alive",[n(e.page,{tag:"component",staticClass:"mx-4 md-4"})],1)],1)],1)};A._withStripped=!0;var P=function(e,t,n,s,i,o,a,r){var c,l=("function"==typeof n?n.options:n)||{};if(l.__file="/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/Home.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),l._scopeId=s,t&&(c=function(e){t.call(this,a(e))}),void 0!==c)if(l.functional){var m=l.render;l.render=function(e,t){return c.call(t),m(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return l}({render:A,staticRenderFns:[]},function(e){e&&e("data-v-33623ab8_0",{source:"\n.container1[data-v-33623ab8] {\n  margin-top: 0px;\n}\n",map:{version:3,sources:["/home/frappe/bench-13/apps/posawesome/posawesome/public/js/posapp/Home.vue"],names:[],mappings:";AAkCA;EACA,eAAA;AACA",file:"Home.vue",sourcesContent:['<template>\n  <v-app class="container1">\n    <v-main>\n      <Navbar @changePage="setPage($event)"></Navbar>\n      <keep-alive>\n        <component v-bind:is="page" class="mx-4 md-4"></component>\n      </keep-alive>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport Navbar from "./components/Navbar.vue";\nimport POS from "./components/pos/Pos.vue";\n\nexport default {\n  data: function () {\n    return {\n      page: "POS",\n    };\n  },\n  components: {\n    Navbar,\n    POS,\n  },\n  methods: {\n    setPage(page) {\n      this.page = page;\n    },\n  },\n};\n<\/script>\n\n<style scoped>\n.container1 {\n  margin-top: 0px;\n}\n</style>']},media:void 0})},S,"data-v-33623ab8",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),s="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,i){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=s?i.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var r=i.source,c=a.ids.length;if(a.ids.push(e),s&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var l=a.element=document.createElement("style");l.type="text/css",i.media&&l.setAttribute("media",i.media),s&&(l.setAttribute("data-group",o),l.setAttribute("data-next-index","0")),t.appendChild(l)}if(s&&(c=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",c+1)),a.element.styleSheet)a.parts.push(r),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var m=document.createTextNode(r),d=a.element.childNodes;d[c]&&a.element.removeChild(d[c]),d.length?a.element.insertBefore(m,d[c]):a.element.appendChild(m)}}}}});frappe.provide("frappe.PosApp"),frappe.PosApp.posapp=class{constructor(e){var t=e.parent;this.$parent=$(document),this.page=t.page,this.make_body()}make_body(){this.$customer_table_container=this.$parent.find("#body_div"),this.vue=new Vue({vuetify:new Vuetify,el:this.$customer_table_container[0],data:{},render:function(e){return e(P)}})}setup_header(){}}}();
//# sourceMappingURL=posapp.min.js.map
